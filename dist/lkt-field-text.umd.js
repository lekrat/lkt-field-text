(function(e,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue"),require("lkt-string-tools"),require("lkt-events")):typeof define=="function"&&define.amd?define(["vue","lkt-string-tools","lkt-events"],d):(e=typeof globalThis<"u"?globalThis:e||self,e.LktFieldText=d(e.Vue,e.LktStringTools,e.LktEvents))})(this,function(e,d,i){"use strict";const x=["data-show-ui","data-labeled"],C=["type","name","id","disabled","readonly","placeholder","tabindex"],E=["type","name","id","disabled","readonly","tabindex"],S=["for","innerHTML"],L={key:4,class:"lkt-field__state"},P=["title"],_=["title"],T=["title"],N=["title"],v=["title"],I={name:"LktFieldText",inheritAttrs:!1},K=e.defineComponent({...I,props:{modelValue:{type:[String,Number,Array],default:""},placeholder:{type:String,default:""},label:{type:String,default:""},palette:{type:String,default:""},name:{type:String,default:d.generateRandomString(16)},valid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:void 0},mandatory:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},resetMessage:{type:String,default:""},mandatoryMessage:{type:String,default:""},infoMessage:{type:String,default:""},errorMessage:{type:String,default:""},showPasswordMessage:{type:String,default:""},isTel:{type:Boolean,default:!1},isEmail:{type:Boolean,default:!1},isPassword:{type:Boolean,default:!1}},emits:["update:modelValue","keyup","keydown","focus","blur","click","click-info","click-error"],setup(o,{expose:$,emit:D}){const s=D,k=e.useSlots(),t=o,n=d.generateRandomString(16),c=e.ref(null),p=e.ref(t.modelValue),a=e.ref(t.modelValue),u=e.ref(!1),F=e.computed(()=>typeof t.valid=="function"?t.valid():t.valid),U=e.computed(()=>a.value!==p.value),y=e.computed(()=>t.reset||t.infoMessage!==""||t.errorMessage!==""||t.isPassword&&t.showPassword),h=e.computed(()=>{let l=0;return t.reset&&++l,t.infoMessage&&++l,t.isPassword&&t.showPassword&&++l,l}),q=e.computed(()=>t.resetMessage!==""?t.resetMessage:""),j=e.computed(()=>u.value?"lkt-field__password-icon":"lkt-field__show-password-icon"),f=e.computed(()=>t.isPassword&&u.value?"text":t.isEmail?"email":t.isPassword?"password":t.isTel?"tel":"text"),z=e.computed(()=>{const l=["lkt-field","lkt-field-text"];return t.palette&&l.push(`lkt-field--${t.palette}`),f&&l.push(`is-${f.value}`),U.value&&l.push("is-changed"),t.disabled&&l.push("is-disabled"),h.value>0&&(l.push("has-icons"),l.push(`has-icons-${h.value}`)),l.push(F.value?"is-valid":"is-error"),l.push(t.modelValue?"is-filled":"is-empty"),l.join(" ")}),A=()=>{e.nextTick(()=>{c.value&&c.value.focus()})};e.watch(()=>t.modelValue,l=>a.value=l),e.watch(a,l=>s("update:modelValue",l));const w=()=>a.value=p.value,H=()=>a.value,g=l=>s("keyup",l,i.createLktEvent(n,{value:a.value})),B=l=>s("keydown",l,i.createLktEvent(n,{value:a.value})),b=l=>s("focus",l,i.createLktEvent(n,{value:a.value})),M=l=>s("blur",l,i.createLktEvent(n,{value:a.value})),V=l=>s("click",l,i.createLktEvent(n,{value:a.value})),R=l=>s("click-info",l,i.createLktEvent(n,{value:a.value})),O=l=>s("click-error",l,i.createLktEvent(n,{value:a.value})),G=l=>u.value=!u.value;return $({Identifier:n,reset:w,focus:A,value:H,isMandatory:()=>t.mandatory}),(l,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(z.value),"data-show-ui":y.value,"data-labeled":!e.unref(k).label},[e.renderSlot(l.$slots,"prefix"),o.placeholder?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":m[0]||(m[0]=r=>a.value=r),ref:r=>c.value=r,type:f.value,name:o.name,id:e.unref(n),disabled:o.disabled,readonly:o.readonly,placeholder:o.placeholder,tabindex:o.tabindex,onKeyup:g,onKeydown:B,onFocus:b,onBlur:M,onClick:V},null,40,C)),[[e.vModelDynamic,a.value]]):e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:1,"onUpdate:modelValue":m[1]||(m[1]=r=>a.value=r),ref:r=>c.value=r,type:f.value,name:o.name,id:e.unref(n),disabled:o.disabled,readonly:o.readonly,tabindex:o.tabindex,onKeyup:g,onKeydown:B,onFocus:b,onBlur:M,onClick:V},null,40,E)),[[e.vModelDynamic,a.value]]),e.unref(k).label?e.renderSlot(l.$slots,"label",{key:2}):e.createCommentVNode("",!0),e.unref(k).label?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("label",{key:3,for:e.unref(n),innerHTML:o.label},null,8,S)),y.value?(e.openBlock(),e.createElementBlock("div",L,[t.errorMessage?(e.openBlock(),e.createElementBlock("i",{key:0,class:"lkt-field__error-icon",title:t.errorMessage,onClick:O},null,8,P)):e.createCommentVNode("",!0),t.infoMessage?(e.openBlock(),e.createElementBlock("i",{key:1,class:"lkt-field__info-icon",title:t.infoMessage,onClick:R},null,8,_)):e.createCommentVNode("",!0),t.isPassword&&t.showPassword?(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(j.value),title:t.showPasswordMessage,onClick:G},null,10,T)):e.createCommentVNode("",!0),t.reset?(e.openBlock(),e.createElementBlock("i",{key:3,class:"lkt-field__reset-icon",title:q.value,onClick:w},null,8,N)):e.createCommentVNode("",!0),t.mandatory?(e.openBlock(),e.createElementBlock("i",{key:4,class:"lkt-field__mandatory-icon",title:t.mandatoryMessage},null,8,v)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],10,x))}});return{install:o=>{o.component("lkt-field-text",K)}}});
